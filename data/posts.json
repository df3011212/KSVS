[
  {
    "id": "e5194b08-4a2d-4ed1-9fe9-400298617ca4",
    "title": "📈 RVS + GC/DC 4H 通用版 v4.0",
    "youtube": "8VoFvfBis0w",
    "summary": "有策略版本",
    "pine": "//@version=5\nstrategy(\"📈 RVS + GC/DC 4H 通用版 v4.0\", overlay=true,\n     default_qty_type=strategy.percent_of_equity, default_qty_value=100)\n\n// === 開關：啟用回測策略 ===\nenableBacktest = input.bool(true, \"✅ 啟用回測策略 (關閉只顯示指標)\")\n\n// === EMA\nema10 = ta.ema(close, 10)\nema20 = ta.ema(close, 20)\nplot(ema10, color=color.blue , title=\"EMA10\", linewidth=2)\nplot(ema20, color=color.red  , title=\"EMA20\", linewidth=2)\n\n// === MACD 6‑26‑9\nfastLen   = input.int(6 , \"MACD Fast\",   minval=1)\nslowLen   = input.int(26, \"MACD Slow\",   minval=1)\nsignalLen = input.int(9 , \"MACD Signal\", minval=1)\n[macdLine, signalLine, _] = ta.macd(close, fastLen, slowLen, signalLen)\n\ngoldenCross = ta.crossover(macdLine, signalLine)\ndeathCross  = ta.crossunder(macdLine, signalLine)\n\n// === K 棒實體資訊\nbodyHigh = math.max(open, close)\nbodyLow  = math.min(open, close)\nbodySize = math.abs(close - open)\nbodyPct  = bodySize / open\nisGreen  = close > open\nisRed    = close < open\n\n// === 是否包住 EMA10 / 20\nema10InBody = ema10 >= bodyLow and ema10 <= bodyHigh\nema20InBody = ema20 >= bodyLow and ema20 <= bodyHigh\ntouchBoth   = ema10InBody and ema20InBody\n\n// === RVS & RVS‑★\nrvsGreen        = isGreen and touchBoth and bodyPct >= 0.02\nrvsRed          = isRed   and touchBoth and bodyPct >= 0.02\nstrongRvsGreen  = rvsGreen and bodyPct >= 0.045\nstrongRvsRed    = rvsRed   and bodyPct >= 0.045\nisStrongRVS     = strongRvsGreen or strongRvsRed\n\n// === 🛡️ 撐住邏輯\nvar float lastRvsLow = na\nvar int   lastRvsBar = na\nif isStrongRVS\n    lastRvsLow := low\n    lastRvsBar := bar_index\nlookback = 5\nbarsSinceLastRvs = bar_index - lastRvsBar\nisHold = not na(lastRvsLow) and barsSinceLastRvs > 0 and barsSinceLastRvs <= lookback and isGreen and low <= lastRvsLow and (close >= ema10 or close >= ema20)\n\n// === 外部三角形\nisFullyAbove = low  > ema10 and low  > ema20\nisFullyBelow = high < ema10 and high < ema20\n\n// === 進出場策略 ===\nif enableBacktest and strategy.position_size == 0\n    if rvsGreen or goldenCross\n        strategy.entry(\"Long\", strategy.long)\n    if rvsRed or deathCross\n        strategy.entry(\"Short\", strategy.short)\n\nif enableBacktest and strategy.position_size > 0 and (rvsRed or deathCross)\n    strategy.close(\"Long\", comment=\"Exit 多\")\nif enableBacktest and strategy.position_size < 0 and (rvsGreen or goldenCross)\n    strategy.close(\"Short\", comment=\"Exit 空\")\n\n// === 模擬 Exit 標籤\nshowExitLong  = strategy.position_size[1] > 0 and (rvsRed or deathCross)\nshowExitShort = strategy.position_size[1] < 0 and (rvsGreen or goldenCross)\nexitYOffset = (high - low) * 1.5\n\nif showExitLong\n    label.new(bar_index, high + exitYOffset, \"⛔平多\", yloc=yloc.price, style=label.style_label_down,\n              color=color.red, textcolor=color.white, size=size.small)\nif showExitShort\n    label.new(bar_index, low - exitYOffset, \"⛔平空\", yloc=yloc.price, style=label.style_label_up,\n              color=color.lime, textcolor=color.black, size=size.small)\n\n// === 視覺標記\nplotshape(goldenCross , title=\"GC\", style=shape.triangleup   , location=location.belowbar, color=color.lime , size=size.small, text=\"GC做多\",textcolor=color.white)\nplotshape(deathCross  , title=\"DC\", style=shape.triangledown , location=location.abovebar, color=color.red  , size=size.small, text=\"DC做空\",textcolor=color.white)\n\nplotshape(rvsGreen and not strongRvsGreen, title=\"RVS 多頭\", style=shape.labelup , location=location.belowbar, color=color.fuchsia, size=size.tiny, text=\"RVS 做多\", textcolor=color.white)\nplotshape(rvsRed and not strongRvsRed ,   title=\"RVS 空頭\", style=shape.labeldown, location=location.abovebar, color=color.fuchsia, size=size.tiny, text=\"RVS 做空\", textcolor=color.white)\nplotshape(strongRvsGreen, title=\"RVS-★ 多頭\", style=shape.labelup , location=location.belowbar, color=#FFD700, size=size.tiny, text=\"RVS‑★ 做多\", textcolor=color.black)\nplotshape(strongRvsRed , title=\"RVS-★ 空頭\", style=shape.labeldown, location=location.abovebar, color=#FFD700, size=size.tiny, text=\"RVS‑★ 做空\", textcolor=color.black)\nplotshape(isHold, title=\"撐住 🛡️\", style=shape.labelup, location=location.belowbar, size=size.tiny, color=color.teal, text=\"🛡️撐住\", textcolor=color.white)\nplotshape(isFullyAbove, title=\"外部多頭\", style=shape.triangleup, location=location.belowbar, size=size.small, color=color.lime)\nplotshape(isFullyBelow, title=\"外部空頭\", style=shape.triangledown, location=location.abovebar, size=size.small, color=color.orange)\n\n// === 固定右上角說明\ninfoText = \"🟢▲ 外部多頭：整根高於 EMA10/20\\n\" +\n           \"🟠▼ 外部空頭：整根低於 EMA10/20\\n\" +\n           \"🟪 RVS：包住 EMA10/20，實體 ≥ 2%\\n\" +\n           \"⭐ RVS-★：實體 ≥ 4.5%，超強反轉\\n\" +\n           \"🛡️ 撐住：低於 RVS-★ 但站回均線\\n\" +\n           \"🟩 6.26.9 GC：MACD 金叉，短線轉強\\n\" +\n           \"🟥 6.26.9 DC：MACD 死叉，短線轉弱\\n\" +\n           \"⚙️ 回測開關：\" + (enableBacktest ? \"ON\" : \"OFF\")\n\nrightShift = 11\ntopY = ta.highest(high, 5) * 1.04\nvar label infoLabel = na\nif na(infoLabel)\n    infoLabel := label.new(bar_index + rightShift, topY, infoText, xloc=xloc.bar_index, yloc=yloc.price, style=label.style_label_left, size=size.small, color=color.new(#000000, 100), textcolor=color.white)\nelse\n    label.set_xy(infoLabel, bar_index + rightShift, topY)\n    label.set_text(infoLabel, infoText)\n\n// === 快訊條件 ==========================\nalertcondition(goldenCross , title = \"❇️ GC 做多\", message = \"GC 做多訊號觸發！\")\nalertcondition(rvsGreen and not strongRvsGreen, title = \"💜 RVS 做多\", message = \"RVS 做多訊號觸發！\")\nalertcondition(showExitLong , title = \"⛔ 平多\", message = \"平多出場訊號觸發！\")\n\nalertcondition(deathCross , title = \"🔻 DC 做空\", message = \"DC 做空訊號觸發！\")\nalertcondition(rvsRed and not strongRvsRed , title = \"💜 RVS 做空\", message = \"RVS 做空訊號觸發！\")\nalertcondition(showExitShort, title = \"⛔ 平空\", message = \"平空出場訊號觸發！\")",
    "date": 1750080349572
  },
  {
    "id": "0f530b17-2989-4097-975b-455de3b282f6",
    "title": "RD現貨-無策略+鬧鐘版本",
    "youtube": "8VoFvfBis0w",
    "summary": "台南成長型_小理財圈  群組專用",
    "pine": "//@version=5\nindicator(\"📌 RD現貨-無策略+鬧鐘版本\", overlay=true)\n\n// === EMA =====================================================\nema10 = ta.ema(close, 10)\nema20 = ta.ema(close, 20)\nplot(ema10, color=color.blue, linewidth=2)\nplot(ema20, color=color.red , linewidth=2)\n\n// === MACD 6-26-9 =============================================\nfastLen   = input.int(6 , \"MACD Fast Length\"  , minval=1)\nslowLen   = input.int(26, \"MACD Slow Length\"  , minval=1)\nsignalLen = input.int(9 , \"MACD Signal Length\", minval=1)\n[macdLine, signalLine, _] = ta.macd(close, fastLen, slowLen, signalLen)\n\ngoldenCross = ta.crossover(macdLine, signalLine)\ndeathCross  = ta.crossunder(macdLine, signalLine)\n\n// === 畫 GC / DC 標記 =========================================\nplotshape(goldenCross, title=\"MACD 金叉\", style=shape.triangleup,\n          location=location.belowbar, color=color.lime, size=size.small,\n          text=\"GC\", textcolor=color.white)\n\nplotshape(deathCross , title=\"MACD 死叉\", style=shape.triangledown,\n          location=location.abovebar, color=color.red, size=size.small,\n          text=\"DC\", textcolor=color.white)\n\n// === K 棒 / RVS 相關 =========================================\nbodyHigh = math.max(open, close)\nbodyLow  = math.min(open, close)\nbodyPct  = math.abs(close - open) / open\nisGreen  = close > open\nisRed    = close < open\n\nema10InBody = ema10 >= bodyLow and ema10 <= bodyHigh\nema20InBody = ema20 >= bodyLow and ema20 <= bodyHigh\ntouchBoth   = ema10InBody and ema20InBody\n\nrvsGreen       = isGreen and touchBoth and bodyPct >= 0.02\nrvsRed         = isRed   and touchBoth and bodyPct >= 0.02\nstrongRvsGreen = rvsGreen and bodyPct >= 0.045\nstrongRvsRed   = rvsRed   and bodyPct >= 0.045\n\n// === 🛡️ 撐住邏輯 ============================================\nvar float lastRvsLow = na\nvar int   lastRvsBar = na\nif strongRvsGreen or strongRvsRed\n    lastRvsLow := low\n    lastRvsBar := bar_index\n\nisHold = not na(lastRvsLow) and\n         bar_index - lastRvsBar > 0 and bar_index - lastRvsBar <= 5 and\n         isGreen and low <= lastRvsLow and\n         (close >= ema10 or close >= ema20)\n\n// === 外部三角形 ==============================================\nisFullyAbove = low  > ema10 and low  > ema20\nisFullyBelow = high < ema10 and high < ema20\nplotshape(isFullyAbove, title=\"外部多頭\", style=shape.triangleup,\n          location=location.belowbar, size=size.small, color=color.lime)\nplotshape(isFullyBelow, title=\"外部空頭\", style=shape.triangledown,\n          location=location.abovebar, size=size.small, color=color.orange)\n\n// === RVS / RVS-★ 標記 ========================================\nplotshape(rvsGreen and not strongRvsGreen, title=\"RVS 多頭\", style=shape.labelup ,\n          location=location.belowbar, size=size.tiny, color=color.fuchsia,\n          text=\"RVS\", textcolor=color.white)\nplotshape(rvsRed   and not strongRvsRed  , title=\"RVS 空頭\", style=shape.labeldown,\n          location=location.abovebar, size=size.tiny, color=color.fuchsia,\n          text=\"RVS\", textcolor=color.white)\n\nplotshape(strongRvsGreen, title=\"RVS-★ 多頭\", style=shape.labelup ,\n          location=location.belowbar, size=size.tiny, color=#FFD700,\n          text=\"RVS-★\", textcolor=color.black)\nplotshape(strongRvsRed  , title=\"RVS-★ 空頭\", style=shape.labeldown,\n          location=location.abovebar, size=size.tiny, color=#FFD700,\n          text=\"RVS-★\", textcolor=color.black)\n\nplotshape(isHold, title=\"撐住 🛡️\", style=shape.labelup, location=location.belowbar,\n          size=size.tiny, color=color.teal, text=\"🛡️撐住了\", textcolor=color.white)\n\n// === 固定右上角說明 ==========================================\ninfoText =\n     \"🟢▲ 外部多頭：整根高於 EMA10/20\\n\" +\n     \"🟠▼ 外部空頭：整根低於 EMA10/20\\n\" +\n     \"🟪 RVS：包住 EMA10/20，實體 ≥ 2%\\n\" +\n     \"⭐ RVS-★：實體 ≥ 4.5%\\n\" +\n     \"🛡️ 撐住：低於 RVS-★ 但站回均線\\n\" +\n     \"🟩 6.26.9 GC：MACD 金叉\\n\" +\n     \"🟥 6.26.9 DC：MACD 死叉\"\n\nrightShift = 11\ntopY = ta.highest(high, 5) * 1.04\nvar label infoLabel = na\nif na(infoLabel)\n    infoLabel := label.new(bar_index + rightShift, topY, infoText,xloc=xloc.bar_index, yloc=yloc.price, style=label.style_label_left,size=size.small, color=color.new(#000000, 100), textcolor=color.white)\nelse\n    label.set_xy(infoLabel, bar_index + rightShift, topY),\n    label.set_text(infoLabel, infoText)\n\n// === 快訊條件：出場\nexitLong  = deathCross or rvsRed     // 多單該出場（出現空訊）\nexitShort = goldenCross or rvsGreen  // 空單該出場（出現多訊）\n\n// === 組合快訊條件\nlongGroupAlert  = goldenCross or (rvsGreen and not strongRvsGreen) or exitShort\nshortGroupAlert = deathCross or (rvsRed   and not strongRvsRed)   or exitLong\n\nalertcondition(longGroupAlert, title=\"📈 多方訊號觸發：GC、RVS 做多或 平空\", message=\"多方訊號觸發：GC、RVS 做多或 平空\")\nalertcondition(shortGroupAlert, title=\"📉 多方訊號觸發：GC、RVS 做多或 平空\", message=\"空方訊號觸發：DC、RVS 做空或 平多\")",
    "date": 1750080294442
  },
  {
    "id": "a420e673-9941-4d5d-aeb2-004d73499c0c",
    "title": "MACD 6.26.9 紅綠點設計",
    "youtube": "9yvHiT66Etg",
    "summary": "改良版的 MACD 指標（移動平均收斂背離指標），不只畫出傳統的 MACD 線與 Signal 線，還 額外在金叉與死叉的位置標記綠色與紅色圓點，協助用戶視覺上快速辨識多空訊號。",
    "pine": "//@version=6\nindicator(title=\"MACD 6.26.9 紅綠點設計\", shorttitle=\"MACD\", overlay=false)\n\n// === 參數 ===\nfast_length   = input.int(title=\"Fast Length\",   defval=12, minval=1, maxval=50)\nslow_length   = input.int(title=\"Slow Length\",   defval=26, minval=1, maxval=100)\nsignal_length = input.int(title=\"Signal Smoothing\", defval=9,  minval=1, maxval=50)\n\nsma_source = input.string(title=\"MACD MA Type\",  defval=\"EMA\", options=[\"SMA\", \"EMA\"])\nsma_signal = input.string(title=\"Signal MA Type\", defval=\"EMA\", options=[\"SMA\", \"EMA\"])\n\nsrc = input.source(title=\"Source\", defval=close)\n\n// === 樣式 ===\nmacdColor    = input.color(title=\"MACD 線顏色\",   defval=color.blue)\nsignalColor  = input.color(title=\"Signal 線顏色\", defval=color.orange)\nmacdWidth    = input.int(title=\"MACD 線寬\",       defval=1, minval=1, maxval=5)\nsignalWidth  = input.int(title=\"Signal 線寬\",     defval=1, minval=1, maxval=5)\n\n// === 計算 ===\nfast_ma = sma_source == \"SMA\" ? ta.sma(src, fast_length) : ta.ema(src, fast_length)\nslow_ma = sma_source == \"SMA\" ? ta.sma(src, slow_length) : ta.ema(src, slow_length)\nmacd    = fast_ma - slow_ma\nsignal  = sma_signal == \"SMA\" ? ta.sma(macd, signal_length) : ta.ema(macd, signal_length)\n\n// === 圖形 ===\nhline(0, \"Zero Line\", color=color.new(color.gray, 60))\nplot(macd,   title=\"MACD Line\",   color=macdColor,   linewidth=macdWidth)\nplot(signal, title=\"Signal Line\", color=signalColor, linewidth=signalWidth)\n\n// === 金叉 / 死叉 標記 ===\ngoldenCross = ta.crossover(macd, signal)   // 快線上穿 → 金叉\ndeathCross  = ta.crossunder(macd, signal)  // 快線下穿 → 死叉\n\nplot(goldenCross ? macd : na, title=\"Golden Cross Point\", style=plot.style_circles, color=color.lime, linewidth=3)\nplot(deathCross  ? macd : na, title=\"Death Cross Point\",  style=plot.style_circles, color=color.red,  linewidth=3)",
    "date": 1750077779470
  }
]
